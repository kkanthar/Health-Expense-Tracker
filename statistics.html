<!DOCTYPE html>

<html>
    <head> 

        <title> My Statistics </title>
        <link rel="icon" type = "icon" href = "/Logos/favicon.ico">


        <link rel = "stylesheet" href = "styles/header.css">
        <link rel = "stylesheet" href = "styles/nav.css">
        <link rel = "stylesheet" href = "styles/general.css">
        <link rel = "stylesheet" href = "styles/statistics.css">


        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Archivo:ital,wght@0,100..900;1,100..900&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

    </head>


    <body>
        <header> 
            <div class = "logo"> 
                <img class = "logo-icon" src = "Logos/favicon.png">
                <img class ="logotitle" src = "Logos/appname.png">
            </div>
        </header>

        
        <main>
            <h1>My Analytics</h1>

            <section class = "average-spending">
                <div class = "average-spending-header"> 
                    <h2 class = "average-spending-title"> Average Spending per </h2> 
                    <div class = "dropdown-period"> 
                        <button class = "dropdown-button-period" id = "dropdownButtonPeriod"> Month </button>
                        <div class = "dropdown-period-content" id = "dropdownPeriodContent"> 
                            <p onclick = "changeButtonText('Day'); calculateAverageSpending('Day')"> Day </p>
                            <p onclick = "changeButtonText('Week'); calculateAverageSpending('Week')"> Week </p>
                            <p onclick = "changeButtonText('Month'); calculateAverageSpending('Month')"> Month </p>
                            <p onclick = "changeButtonText('Year'); calculateAverageSpending('Year')"> Year </p>
                        </div>
                    </div>
                    <div class = "tooltip-container" id = "tooltipContainerAvgSpending">
                        <img src = "icons/info-icon.svg" class = "info-icon" id = 'tooltipIconAvgSpending'>
                        <p class = "tooltip-avgspending" id = "tooltipAvgSpending">Average spending per month is calculated by dividing the total spending for the current calendar year by the number of months that have passed</p>
                    </div>
                </div>

                <div class = "average-spending-box">
                    <p id = "averageSpendingCalculation" class = "average-spending-calculation"></p>
                </div>
            </section>

            <section> 
                <div class = "spending-distribution-header">
                    <h2> Spending Distribution </h2>
                    <div class = "tooltip-container">
                        <img src = "icons/info-icon.svg" class = "info-icon" id = 'tooltipSpendingDistribution'>
                        <p class = "tooltip-spendingdistri" id = "tooltipSpendingDistri">Tip: Click on the labels at the top to hide specific types of expenses.</p>
                    </div>
                </div>
                <div style = "width: 70vw; margin: auto">
                    <canvas width = "500vw" id ="spendingDistribution">Your browser does not support the canvas element.</canvas>
                </div>
            </section>

            <section>
                <h2> Total Spending </h2>
                
                <div class = "total-spending"> 
                    <div class = "total-spending-card">

                        <div class = "total-spending-subheading">
                            <p class = "total-spending-subheading-title">Today</p>
                        </div>
                        <div class = "total-spending-input-container">
                            <p class = "total-spending-input" id = "totalSpendingInputDay"></p>
                        </div>
                        <div class = "compare-spending-chart-container"> 
                            <canvas id = "totalSpendingCompareDay"></canvas>
                        </div>

                    </div>

                    <div class = "total-spending-card">

                        <div class = "total-spending-subheading">
                            <p class = "total-spending-subheading-title">This Week</p>
                            <div class = "tooltip-container" id = "tooltipContainerTotalSpendingWeek">
                                <p class = "tooltip-totalspending" id = "tooltipTotalSpendingWeek">For total spending, a week is considered from Sunday to Saturday</p>
                                <img src = "icons/info-icon.svg" class = "info-icon-totalSpending" id = 'tooltipIconTotalSpendingWeek'>
                            </div>
                        </div>
                        <div class = "total-spending-input-container">
                            <p class = "total-spending-input" id = "totalSpendingInputWeek"></p>
                        </div>
                        <div class = "compare-spending-chart-container"> 
                            <canvas id = "totalSpendingCompareWeek"></canvas>
                        </div>
                    </div>

                    <div class = "total-spending-card">


                        <div class = "total-spending-subheading">
                            <p class = "total-spending-subheading-title">This Month</p>
                        </div>

                        <div class = "total-spending-input-container">
                            <p class = "total-spending-input" id = "totalSpendingInputMonth"></p>
                        </div>

                        <div class = "compare-spending-chart-container"> 
                            <canvas id = "totalSpendingCompareMonth"></canvas>
                        </div>
                    </div>

                    <div class = "total-spending-card">

                        <div class = "total-spending-subheading">
                            <p class = "total-spending-subheading-title">This Year</p>
                        </div>

                        <div class = "total-spending-input-container">
                            <p class = "total-spending-input" id = "totalSpendingInputYear"></p>
                        </div>
        
                        <div class = "compare-spending-chart-container"> 
                            <canvas id = "totalSpendingCompareYear"></canvas>
                        </div>
                    
                    </div>
                </div>
            </section>

            
           
        </main>


        <nav>
            <a href = "index.html"> <button id = "navButtonMyExpense" class = "button-myexpense"><img class = "nav-money-icon" src = "icons/nav-money-icon.svg"></button></a>
            <a href = "statistics.html"><button id = "navButtonMyStats" class = "button-stats"><img class = "nav-stats-icon" src = "icons/nav-stats-icon.svg"></button></a>
        </nav>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src = "scripts/buttons-statistics.js"></script>
    <script src = "scripts/statistics.js"></script>
    </body>

</html>